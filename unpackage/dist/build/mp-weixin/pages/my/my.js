(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/my"],{"0458":function(e,t,a){"use strict";var n=a("d441"),o=a.n(n);o.a},"1a83":function(e,t,a){"use strict";a.r(t);var n=a("8208"),o=a("25a4");for(var i in o)"default"!==i&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("0458");var s,u=a("f0c5"),r=Object(u["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);t["default"]=r.exports},"25a4":function(e,t,a){"use strict";a.r(t);var n=a("6fee"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},"59d0":function(e,t,a){"use strict";(function(e){a("cd49");n(a("66fd"));var t=n(a("1a83"));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=a,e(t.default)}).call(this,a("543d")["createPage"])},"6fee":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=getApp(),n={data:function(){return{cookieAuth:!0,addressArray:[],addressNndex:0,userInfo:{nickName:""},city:null,degree:"0"}},onLoad:function(){var e=this,t=this;null==a.globalData.userInfo?t.setData({userInfo:{avatarUrl:"/static/images/head.png",nickName:"百家宴用户"}}):t.setData({userInfo:a.globalData.userInfo}),this.$api.system.set.request().then((function(a){e.addressArray=a.city,t.getCity(a.city)})),this.getUserInfo()},onShow:function(){a.globalData.orderShow=null},methods:{getUserInfo:function(){var e=this;this.$api.user.info.request().then((function(t){e.degree=t.degree}))},getCity:function(t){var a=this;e.getLocation({type:"gcj02",success:function(e){var n=e.latitude,o=e.longitude;a.loadCity(n,o,t)},fail:function(){}})},loadCity:function(t,n,o){var i=this;e.request({url:"https://api.map.baidu.com/geocoder/v2/?ak=96Vsml8Wo79ANcOHzat1KG3pQ9lLWeQY&location="+t+","+n+"&output=json",header:{"Content-Type":"application/json"},success:function(t){console.log("哈哈",t);var n=t.data.result.addressComponent.city;n=n.replace("市","");for(var s=0;s<o.length;s++)n!=o[s].name||a.globalData.cityId?a.globalData.cityId==o[s].id&&i.setData({addressNndex:s}):(i.setData({addressNndex:s}),e.setStorage({key:"cityId",data:o[s].id,success:function(e){a.globalData.getCityId()}}));i.setData({city:n})}})},bindPickerChange:function(t){var n=this;this.setData({addressNndex:t.detail.value}),e.setStorage({key:"cityId",data:n.addressArray[t.detail.value].id,success:function(e){a.globalData.getCityId()}})},jumpMember:function(){this.cookieAuth&&"0"==this.degree?e.navigateTo({url:"/pages/order/balanceRecharge"}):this.cookieAuth&&"0"!=this.degree?e.navigateTo({url:"/pages/my/balance"}):e.navigateTo({url:"/pages/login/login"})},jumpCoupon:function(){this.cookieAuth?e.navigateTo({url:"/pages/my/coupon"}):e.navigateTo({url:"/pages/login/login"})},jumpAddress:function(){this.cookieAuth?e.navigateTo({url:"/pages/address/list"}):e.navigateTo({url:"/pages/login/login"})},callPhone:function(){var t=this;e.makePhoneCall({phoneNumber:t.addressArray[t.addressNndex].tel})},jumpHelp:function(){e.navigateTo({url:"/pages/my/useHelp"})},jumpProtocol:function(){e.navigateTo({url:"/pages/my/userProtocol"})},jumpLogin:function(){e.navigateTo({url:"/pages/login/login"})},exitLogin:function(){var t=this;e.removeStorage({key:"cookieAuth",success:function(n){e.removeStorage({key:"nickName",success:function(n){a.globalData.getCookieAuth(),t.setData({degree:"0"}),e.switchTab({url:"/pages/index/index"})}})}})}}};t.default=n}).call(this,a("543d")["default"])},8208:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement;e._self._c},i=[]},d441:function(e,t,a){}},[["59d0","common/runtime","common/vendor"]]]);